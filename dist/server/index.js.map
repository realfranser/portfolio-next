{"version":3,"file":"index.js","names":["admin","initializeApp","dev","process","env","NODE_ENV","app","next","conf","distDir","handle","getRequestHandler","server","functions","https","onRequest","request","response","console","log","originalUrl","prepare","then","nextjs"],"sources":["../../src/server/index.js"],"sourcesContent":["import * as admin from \"firebase-admin\";\nimport * as functions from \"firebase-functions\";\nimport next from \"next\";\n\nadmin.initializeApp();\n\nconst dev = process.env.NODE_ENV !== \"production\";\nconst app = next({\n  dev,\n  // the absolute directory from the package.json file that initialises this module\n  // IE: the absolute path from the root of the Cloud Function\n  conf: { distDir: \"dist/client\" },\n});\nconst handle = app.getRequestHandler();\n\nconst server = functions.https.onRequest((request, response) => {\n  // log the page.js file or resource being requested\n  console.log(\"File: \" + request.originalUrl);\n  return app.prepare().then(() => handle(request, response));\n});\n\nconst nextjs = {\n  server,\n};\n\nexport { nextjs };\n"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;;;;;AAEAA,KAAK,CAACC,aAAN;AAEA,MAAMC,GAAG,GAAGC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAArC;AACA,MAAMC,GAAG,GAAG,IAAAC,aAAA,EAAK;EACfL,GADe;EAEf;EACA;EACAM,IAAI,EAAE;IAAEC,OAAO,EAAE;EAAX;AAJS,CAAL,CAAZ;AAMA,MAAMC,MAAM,GAAGJ,GAAG,CAACK,iBAAJ,EAAf;AAEA,MAAMC,MAAM,GAAGC,SAAS,CAACC,KAAV,CAAgBC,SAAhB,CAA0B,CAACC,OAAD,EAAUC,QAAV,KAAuB;EAC9D;EACAC,OAAO,CAACC,GAAR,CAAY,WAAWH,OAAO,CAACI,WAA/B;EACA,OAAOd,GAAG,CAACe,OAAJ,GAAcC,IAAd,CAAmB,MAAMZ,MAAM,CAACM,OAAD,EAAUC,QAAV,CAA/B,CAAP;AACD,CAJc,CAAf;AAMA,MAAMM,MAAM,GAAG;EACbX;AADa,CAAf"}